/****************************************************************************************************************************
*** Class Name          	 :  LineOfBusinessAccountTriggerTest 
*** Author                   :  Shiva Krishna
*** Class Created Date     	 :	8/7/2019
*		Modified Date        :	8/9/2019
*		Modified By          :  Nagarjuna
******************************************************************************************************************************/
@isTest
public class LineOfBusinessAccountTriggerTest {
    
    @IsTest 
    // Test for verifying that the account is being update by the LOBA on Update.
    private static void AcctUpdateTest() {

        Test.starttest();
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        
        Account defaultacc = new Account();
        defaultacc.Company_Region__c='APAC';
        defaultacc.Covetrus_Customer_Number__c='1234';
        defaultacc.name='Default Account';

        Insert defaultacc;

        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        
        Insert acc;

        User SalesRep = new User();
        SalesRep.LastName = 'LIVESTON';
        SalesRep.FirstName='JASON';
        SalesRep.Alias = 'jliv';
        SalesRep.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        SalesRep.Username = 'bhanu@gmail.com' + Datetime.now().millisecond();
        SalesRep.ProfileId = profileId.id;
        SalesRep.TimeZoneSidKey = 'GMT';
        SalesRep.LanguageLocaleKey = 'en_US';
        SalesRep.EmailEncodingKey = 'UTF-8';
        SalesRep.LocaleSidKey = 'en_US';
        
        Insert SalesRep;

        User CSRep = new User();
        CSRep.LastName = 'Pioneer';
        CSRep.FirstName='team';
        CSRep.Alias = 'pioneer';
        CSRep.Email = 'pioneer@asdf.com';
        CSRep.Username = 'pioneer@gmail.com';
        CSRep.ProfileId = profileId.id;
        CSRep.TimeZoneSidKey = 'GMT';
        CSRep.LanguageLocaleKey = 'en_US';
        CSRep.EmailEncodingKey = 'UTF-8';
        CSRep.LocaleSidKey = 'en_US';
        
        Insert CSRep;

        Line_Of_Business__c lob = new Line_Of_Business__c();
        lob.Name = 'Provet';
        lob.Line_Of_Business__c = 'CO';

        Insert lob;

        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name = 'LobTest1';
        lobacc.Provet_Primary_Account__c = true;
        lobacc.Line_Of_Business__c = lob.Id;
        lobacc.Provet_Points_Plus__c = '1';
        lobacc.Legacy_ERP_Source__c = 'test';
        lobacc.Legacy_ERP_Source_ID__c = '8767932';
        lobacc.Shipping_Address_Line_1__c = 'test';
        lobacc.Shipping_Address_Line_2__c = 'test';
        lobacc.Shipping_City__c = 'test';
        lobacc.Shipping_Country__c = 'Australia';
        lobacc.Shipping_Postal_Code__c = '1050';
        lobacc.Shipping_State__c = 'ACT';
        lobacc.Account__c = acc.Id;
        lobacc.Sales_Rep__c = SalesRep.Id;
        lobacc.Primary_Customer_Service_Rep__c = CSRep.Id;

        Insert lobacc;
        Update lobacc;
        System.debug(lob);
        System.debug(lobacc.Line_Of_Business__c);
        System.debug(lobacc);

        Test.stoptest();

        Line_of_Business_Account__c resultlobAcc = [SELECT Id,Sales_Rep__c FROM Line_Of_Business_Account__c WHERE Id =: lobacc.Id];
        System.Debug(resultlobAcc);
        Account resultAcc = [SELECT Id,OwnerId FROM Account WHERE Id =: acc.Id];
        System.Debug(resultAcc);

        System.assertEquals(resultlobAcc.Sales_Rep__c,resultAcc.OwnerId,'Owners Match');
        
    }
    
    public static testMethod void lobUpdateTest(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanu@gmail.com' + Datetime.now().millisecond();
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneer@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        List<Line_Of_Business_Account__c> lobAccountRecList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccountRecList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.Id,lobAccRec);
        Line_Of_Business_Account__c lobAccount = new Line_Of_Business_Account__c();
        lobAccount.Id = lobAccRec.Id;
        lobAccount.Account__c = acc.Id; 
        lobAccount.Sales_Rep__c = testUser.Id;
        lobAccount.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        lobAccount.Legacy_ERP_Source__c = 'test';
        lobAccount.Legacy_ERP_Source_ID__c = '8767932';
        lobAccount.Shipping_Address_Line_1__c = 'test';
        lobAccount.Shipping_Address_Line_2__c = 'test';
        lobAccount.Shipping_City__c = 'test';
        lobAccount.Shipping_Country__c = 'test';
        lobAccount.Shipping_Postal_Code__c = 'test';
        lobAccount.Shipping_State__c = 'test';
        update lobAccount;
        lobAccountRecList.add(lobAccount);
        newLobAccRecMap.put(lobAccount.id,lobAccount);
        LineOfBusinessAccountTriggerHelper.insertAccountTeamForLOBAccount(lobAccountRecList);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
    }
    
    public static testMethod void lobUpdateTest2(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash@gmail.com' + Datetime.now().millisecond();
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneers@gmail.com' + Datetime.now().millisecond();
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        List<Line_Of_Business_Account__c> lobAccountRecList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccountRecList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccount = new Line_Of_Business_Account__c();
        lobAccount.Id = lobAccRec.Id;
        lobAccount.Account__c = newAcc.Id;
        lobAccount.Sales_Rep__c = pioneerUser.Id;
        lobAccount.Primary_Customer_Service_Rep__c = testUser.Id;
        lobAccount.Legacy_ERP_Source__c = 'test';
        lobAccount.Legacy_ERP_Source_ID__c = '8767932';
        lobAccount.Shipping_Address_Line_1__c = 'test';
        lobAccount.Shipping_Address_Line_2__c = 'test';
        lobAccount.Shipping_City__c = 'test';
        lobAccount.Shipping_Country__c = 'test';
        lobAccount.Shipping_Postal_Code__c = 'test';
        lobAccount.Shipping_State__c = 'test';
        update lobAccount;
        newLobAccRecMap.put(lobAccount.id,lobAccount);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
        
    }
    public static testMethod void lobUpdateTest3(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash1@gmail.com' + Datetime.now().millisecond();
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam1@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        List<Line_Of_Business_Account__c> lobAccountRecList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        lobAccRecOld.Name = 'LobTest1';
        lobAccRecOld.Legacy_ERP_Source__c = 'test';
        lobAccRecOld.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecOld.Shipping_Address_Line_1__c = 'test';
        lobAccRecOld.Shipping_Address_Line_2__c = 'test';
        lobAccRecOld.Shipping_City__c = 'test';
        lobAccRecOld.Shipping_Country__c = 'test';
        lobAccRecOld.Shipping_Postal_Code__c = 'test';
        lobAccRecOld.Shipping_State__c = 'test';
        lobAccRecOld.Account__c = acc.Id;
        lobAccRecOld.Sales_Rep__c = pioneerUser.Id;
        lobAccRecOld.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecOld;
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccount = new Line_Of_Business_Account__c();
        lobAccount.Id = lobAccRec.Id;
        lobAccount.Account__c = newAcc.Id;
        lobAccount.Sales_Rep__c = pioneerUser.Id;
        lobAccount.Primary_Customer_Service_Rep__c = testUser.Id;
        lobAccount.Legacy_ERP_Source__c = 'test';
        lobAccount.Legacy_ERP_Source_ID__c = '8767932';
        lobAccount.Shipping_Address_Line_1__c = 'test';
        lobAccount.Shipping_Address_Line_2__c = 'test';
        lobAccount.Shipping_City__c = 'test';
        lobAccount.Shipping_Country__c = 'test';
        lobAccount.Shipping_Postal_Code__c = 'test';
        lobAccount.Shipping_State__c = 'test';
        update lobAccount;
        newLobAccRecMap.put(lobAccount.id,lobAccount);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
        
    }
    public static testMethod void lobUpdateTest4(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash2@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam2@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        List<Line_Of_Business_Account__c> lobAccountRecList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        lobAccRecOld.Name = 'LobTest1';
        lobAccRecOld.Legacy_ERP_Source__c = 'test1';
        lobAccRecOld.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecOld.Shipping_Address_Line_1__c = 'test';
        lobAccRecOld.Shipping_Address_Line_2__c = 'test';
        lobAccRecOld.Shipping_City__c = 'test';
        lobAccRecOld.Shipping_Country__c = 'test';
        lobAccRecOld.Shipping_Postal_Code__c = 'test';
        lobAccRecOld.Shipping_State__c = 'test';
        lobAccRecOld.Account__c = acc.Id;
        lobAccRecOld.Sales_Rep__c = pioneerUser.Id;
        lobAccRecOld.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecOld;
        
        Line_Of_Business_Account__c lobAccRecOld1 = new Line_Of_Business_Account__c();
        lobAccRecOld1.Name = 'LobTest1';
        lobAccRecOld1.Legacy_ERP_Source__c = 'test2';
        lobAccRecOld1.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecOld1.Shipping_Address_Line_1__c = 'test';
        lobAccRecOld1.Shipping_Address_Line_2__c = 'test';
        lobAccRecOld1.Shipping_City__c = 'test';
        lobAccRecOld1.Shipping_Country__c = 'test';
        lobAccRecOld1.Shipping_Postal_Code__c = 'test';
        lobAccRecOld1.Shipping_State__c = 'test';
        lobAccRecOld1.Account__c = acc.Id;
        lobAccRecOld1.Sales_Rep__c = pioneerUser.Id;
        lobAccRecOld1.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecOld1;
        
        Line_Of_Business_Account__c lobAccRecOld2 = new Line_Of_Business_Account__c();
        lobAccRecOld2.Name = 'LobTest1';
        lobAccRecOld2.Legacy_ERP_Source__c = 'test2';
        lobAccRecOld2.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecOld2.Shipping_Address_Line_1__c = 'test';
        lobAccRecOld2.Shipping_Address_Line_2__c = 'test';
        lobAccRecOld2.Shipping_City__c = 'test';
        lobAccRecOld2.Shipping_Country__c = 'test';
        lobAccRecOld2.Shipping_Postal_Code__c = 'test';
        lobAccRecOld2.Shipping_State__c = 'test';
        lobAccRecOld2.Account__c = acc.Id;
        lobAccRecOld2.Sales_Rep__c = testuser.Id;
        lobAccRecOld2.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        insert lobAccRecOld2;
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testuser.Id;
        insert lobAccRec;
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = testuser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
        
    }
    public static testMethod void lobUpdateTest5(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash3@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam3@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = null;
        lobAccRecNew.Primary_Customer_Service_Rep__c = null;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        delete lobAccRecNew;
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
        LineOfBusinessAccountTriggerHelper.deleteAccTeamMemb(lobAccList);
    }
    public static testMethod void lobUpdateTest6(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash4@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam4@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        List<Line_Of_Business_Account__c> lobAccountRecList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = pioneerUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccList.add(lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = testUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        lobAccList.add(lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.insertAccountTeamForLOBAccount(lobAccList);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest7(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash5@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam5@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = pioneerUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        insert lobAccRecord;
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = testUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest8(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash6@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam6@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = pioneerUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        //lobAccMap.put(lobAccRec.Sales_Rep__c, lobAccRec);
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = pioneerUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = pioneerUser.Id;
        insert lobAccRecord;
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = testUser.Id;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest9(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash7@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam7@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        user covetUser = new user();
        covetUser.LastName = 'Pioneer';
        covetUser.FirstName='team';
        covetUser.Alias = 'pioneer';
        covetUser.Email = 'pioneer@asdf.com';
        covetUser.Username = 'covetUser7@gmail.com';
        covetUser.ProfileId = profileId.id;
        covetUser.TimeZoneSidKey = 'GMT';
        covetUser.LanguageLocaleKey = 'en_US';
        covetUser.EmailEncodingKey = 'UTF-8';
        covetUser.LocaleSidKey = 'en_US';
        insert covetUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = newAcc.Id;
        lobAccRec.Sales_Rep__c = testUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = newAcc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = covetUser.Id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest10(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash8@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam8@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        user covetUser = new user();
        covetUser.LastName = 'Pioneer';
        covetUser.FirstName='team';
        covetUser.Alias = 'pioneer';
        covetUser.Email = 'pioneer@asdf.com';
        covetUser.Username = 'covetUser8@gmail.com';
        covetUser.ProfileId = profileId.id;
        covetUser.TimeZoneSidKey = 'GMT';
        covetUser.LanguageLocaleKey = 'en_US';
        covetUser.EmailEncodingKey = 'UTF-8';
        covetUser.LocaleSidKey = 'en_US';
        insert covetUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = newAcc.Id;
        lobAccRec.Sales_Rep__c = testUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = newAcc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = null;
        lobAccRecNew.Primary_Customer_Service_Rep__c = covetUser.Id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest11(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash9@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam9@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        user covetUser = new user();
        covetUser.LastName = 'Pioneer';
        covetUser.FirstName='team';
        covetUser.Alias = 'pioneer';
        covetUser.Email = 'pioneer@asdf.com';
        covetUser.Username = 'covetUser9@gmail.com';
        covetUser.ProfileId = profileId.id;
        covetUser.TimeZoneSidKey = 'GMT';
        covetUser.LanguageLocaleKey = 'en_US';
        covetUser.EmailEncodingKey = 'UTF-8';
        covetUser.LocaleSidKey = 'en_US';
        insert covetUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecOld = new Line_Of_Business_Account__c();
        insert lobAccRecOld;
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = newAcc.Id;
        lobAccRec.Sales_Rep__c = testUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        lobAccList.add(lobAccRec);
        oldLobAccRecMap.put(lobAccRec.id,lobAccRec);
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = newAcc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRec.Id;
        lobAccRecNew.Sales_Rep__c = covetUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = null;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest12(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash10@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam10@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        user covetUser = new user();
        covetUser.LastName = 'Pioneer';
        covetUser.FirstName='team';
        covetUser.Alias = 'pioneer';
        covetUser.Email = 'pioneer@asdf.com';
        covetUser.Username = 'covetUser10@gmail.com';
        covetUser.ProfileId = profileId.id;
        covetUser.TimeZoneSidKey = 'GMT';
        covetUser.LanguageLocaleKey = 'en_US';
        covetUser.EmailEncodingKey = 'UTF-8';
        covetUser.LocaleSidKey = 'en_US';
        insert covetUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = testUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        
        Line_Of_Business_Account__c lobAccRecTest = new Line_Of_Business_Account__c();
        lobAccRecTest.Name = 'LobTest1';
        lobAccRecTest.Legacy_ERP_Source__c = 'test';
        lobAccRecTest.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecTest.Shipping_Address_Line_1__c = 'test';
        lobAccRecTest.Shipping_Address_Line_2__c = 'test';
        lobAccRecTest.Shipping_City__c = 'test';
        lobAccRecTest.Shipping_Country__c = 'test';
        lobAccRecTest.Shipping_Postal_Code__c = 'test';
        lobAccRecTest.Shipping_State__c = 'test';
        lobAccRecTest.Account__c = acc.Id;
        lobAccRecTest.Sales_Rep__c = testUser.Id;
        lobAccRecTest.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecTest;    
        
        list<Line_Of_Business_Account__c> lobAccRecordlist = new list<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = covetUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = covetUser.Id;
        insert lobAccRecord;
        Line_Of_Business_Account__c lobAccountRecord = new Line_Of_Business_Account__c();
        lobAccountRecord.Name = 'LobTest1';
        lobAccountRecord.Legacy_ERP_Source__c = 'test';
        lobAccountRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccountRecord.Shipping_Address_Line_1__c = 'test';
        lobAccountRecord.Shipping_Address_Line_2__c = 'test';
        lobAccountRecord.Shipping_City__c = 'test';
        lobAccountRecord.Shipping_Country__c = 'test';
        lobAccountRecord.Shipping_Postal_Code__c = 'test';
        lobAccountRecord.Shipping_State__c = 'test';
        lobAccountRecord.Account__c = acc.Id;
        lobAccountRecord.Sales_Rep__c = testUser.Id;
        lobAccountRecord.Primary_Customer_Service_Rep__c = testUser.Id;       
        list<Line_Of_Business_Account__c> lobAccountRec = new list<Line_Of_Business_Account__c>();
        insert lobAccountRecord;
        lobAccountRec.add(lobAccountRecord);
        oldLobAccRecMap.put(lobAccountRec[0].id,lobAccountRec[0]);
        lobAccountRecord.Sales_Rep__c = covetUser.Id;
        lobAccountRecord.Primary_Customer_Service_Rep__c = covetUser.Id;
        update lobAccountRecord;
        newLobAccRecMap.put(lobAccountRecord.id,lobAccountRecord);
        
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
    }
    
    public static testMethod void lobUpdateTest13(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash11@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam11@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        user covetUser = new user();
        covetUser.LastName = 'Pioneer';
        covetUser.FirstName='team';
        covetUser.Alias = 'pioneer';
        covetUser.Email = 'pioneer@asdf.com';
        covetUser.Username = 'covetUser11@gmail.com';
        covetUser.ProfileId = profileId.id;
        covetUser.TimeZoneSidKey = 'GMT';
        covetUser.LanguageLocaleKey = 'en_US';
        covetUser.EmailEncodingKey = 'UTF-8';
        covetUser.LocaleSidKey = 'en_US';
        insert covetUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRec = new Line_Of_Business_Account__c();
        lobAccRec.Name = 'LobTest1';
        lobAccRec.Legacy_ERP_Source__c = 'test';
        lobAccRec.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRec.Account__c = acc.Id;
        lobAccRec.Sales_Rep__c = testUser.Id;
        lobAccRec.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRec;
        Line_Of_Business_Account__c lobAccRecTest = new Line_Of_Business_Account__c();
        lobAccRecTest.Name = 'LobTest1';
        lobAccRecTest.Legacy_ERP_Source__c = 'test';
        lobAccRecTest.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecTest.Shipping_Address_Line_1__c = 'test';
        lobAccRecTest.Shipping_Address_Line_2__c = 'test';
        lobAccRecTest.Shipping_City__c = 'test';
        lobAccRecTest.Shipping_Country__c = 'test';
        lobAccRecTest.Shipping_Postal_Code__c = 'test';
        lobAccRecTest.Shipping_State__c = 'test';
        lobAccRecTest.Account__c = acc.Id;
        lobAccRecTest.Sales_Rep__c = testUser.Id;
        lobAccRecTest.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecTest;    
        
        list<Line_Of_Business_Account__c> lobAccRecordlist = new list<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRec.Shipping_Address_Line_1__c = 'test';
        lobAccRec.Shipping_Address_Line_2__c = 'test';
        lobAccRec.Shipping_City__c = 'test';
        lobAccRec.Shipping_Country__c = 'test';
        lobAccRec.Shipping_Postal_Code__c = 'test';
        lobAccRec.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = covetUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = covetUser.Id;
        insert lobAccRecord;
        
        Line_Of_Business_Account__c lobAccountRecord = new Line_Of_Business_Account__c();
        lobAccountRecord.Name = 'LobTest1';
        lobAccountRecord.Legacy_ERP_Source__c = 'test';
        lobAccountRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccountRecord.Shipping_Address_Line_1__c = 'test';
        lobAccountRecord.Shipping_Address_Line_2__c = 'test';
        lobAccountRecord.Shipping_City__c = 'test';
        lobAccountRecord.Shipping_Country__c = 'test';
        lobAccountRecord.Shipping_Postal_Code__c = 'test';
        lobAccountRecord.Shipping_State__c = 'test';
        lobAccountRecord.Account__c = acc.Id;
        lobAccountRecord.Sales_Rep__c = testUser.Id;
        lobAccountRecord.Primary_Customer_Service_Rep__c = testUser.Id;       
        list<Line_Of_Business_Account__c> lobAccountRec = new list<Line_Of_Business_Account__c>();
        insert lobAccountRecord;
        lobAccountRec.add(lobAccountRecord);
        oldLobAccRecMap.put(lobAccountRec[0].id,lobAccountRec[0]);
        lobAccountRecord.Account__c = newAcc.id;
        lobAccountRecord.Sales_Rep__c = testUser.Id;
        lobAccountRecord.Primary_Customer_Service_Rep__c = covetUser.Id;
        update lobAccountRecord;
        newLobAccRecMap.put(lobAccountRecord.id,lobAccountRecord);
        
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap,newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest14(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash12@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam12@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        List<Line_Of_Business_Account__c> lobAccRecList = new List<Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccRecList.add(lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = testUser.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = testUser.Id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        lobAccRecList.add(lobAccRecNew);
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
        LineOfBusinessAccountTriggerHelper.deleteAccTeamMemb(lobAccRecList);
    }
    public static testMethod void lobUpdateTest15(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash13@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam13@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest16(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash14@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam14@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = null;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest17(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash15@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam15@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = testUser.Id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = null;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest18(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash16@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam16@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.Id;
        
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.id;
        
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    
    public static testMethod void lobUpdateTest19(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash17@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam17@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = null;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Sales_Rep__c = pioneerUser.id;
        
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    
    public static testMethod void lobUpdateTest20(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash17@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam17@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Primary_Customer_Service_Rep__c = null;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.id;
        lobAccRecNew.Account__c = newAcc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    
    public static testMethod void lobUpdateTest21(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash17@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam17@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = pioneerUser.id;
        lobAccRecord.Primary_Customer_Service_Rep__c = pioneerUser.id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecord.Sales_Rep__c = testUser.id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.id;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
    public static testMethod void lobUpdateTest22(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash17@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam17@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        List<Line_Of_Business_Account__c> lobAccRecordList = new List<Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = pioneerUser.id;
        lobAccRecord.Primary_Customer_Service_Rep__c = pioneerUser.id;
        insert lobAccRecord;
        lobAccRecordList.add(lobAccRecord);
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecord.Sales_Rep__c = testUser.id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = pioneerUser.id;
        lobAccRecNew.Account__c = acc.Id;
        insert lobAccRecNew;
        delete lobAccRecord;
        lobAccRecordList.add(lobAccRecNew);
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        
        LineOfBusinessAccountTriggerHelper.deleteAccTeamMemb(lobAccRecordList);
    }
    
    public static testMethod void lobUpdateTest23(){
        account acnt = new account();
        acnt.Company_Region__c='APAC';
        acnt.Covetrus_Customer_Number__c='1234';
        acnt.name='Default Account';
        insert acnt;
        Line_Of_Business_Account__c lobacc = new Line_Of_Business_Account__c();
        lobacc.Name='test lob';
        lobacc.Account__c=acnt.id;
        lobacc.Covetrus_Customer_Number__c='1234';
        insert lobacc;
        
        Profile profileId = [SELECT Id FROM Profile WHERE Name = 'Standard User' LIMIT 1];
        user testUser = new user();
        testUser.LastName = 'LIVESTON';
        testUser.FirstName='JASON';
        testUser.Alias = 'jliv';
        testUser.Email = 'jason.liveston@asdf.com' + Datetime.now().millisecond();
        testUser.Username = 'bhanuprakash17@gmail.com';
        testUser.ProfileId = profileId.id;
        testUser.TimeZoneSidKey = 'GMT';
        testUser.LanguageLocaleKey = 'en_US';
        testUser.EmailEncodingKey = 'UTF-8';
        testUser.LocaleSidKey = 'en_US';
        insert testUser;
        
        user pioneerUser = new user();
        pioneerUser.LastName = 'Pioneer';
        pioneerUser.FirstName='team';
        pioneerUser.Alias = 'pioneer';
        pioneerUser.Email = 'pioneer@asdf.com';
        pioneerUser.Username = 'pioneerteam17@gmail.com';
        pioneerUser.ProfileId = profileId.id;
        pioneerUser.TimeZoneSidKey = 'GMT';
        pioneerUser.LanguageLocaleKey = 'en_US';
        pioneerUser.EmailEncodingKey = 'UTF-8';
        pioneerUser.LocaleSidKey = 'en_US';
        insert pioneerUser;
        
        Account acc = new Account();
        acc.Name = 'TestAcc';
        acc.Company_Region__c = 'APAC';
        acc.Covetrus_Customer_Number__c = '78867';
        acc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert acc;
        Account newAcc = new Account();
        newAcc.Name = 'TestAccCreation';
        newAcc.Company_Region__c = 'EMEA';
        newAcc.Covetrus_Customer_Number__c = '876545';
        newAcc.CurrencyIsoCode = userinfo.getDefaultCurrency();
        insert newAcc;
        
        Map<Id,Line_Of_Business_Account__c> lobAccMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> oldLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Map<Id,Line_Of_Business_Account__c> newLobAccRecMap = new Map<Id,Line_Of_Business_Account__c>();
        Line_Of_Business_Account__c lobAccRecord = new Line_Of_Business_Account__c();
        lobAccRecord.Name = 'LobTest1';
        lobAccRecord.Legacy_ERP_Source__c = 'test';
        lobAccRecord.Legacy_ERP_Source_ID__c = '8767932';
        lobAccRecord.Shipping_Address_Line_1__c = 'test';
        lobAccRecord.Shipping_Address_Line_2__c = 'test';
        lobAccRecord.Shipping_City__c = 'test';
        lobAccRecord.Shipping_Country__c = 'test';
        lobAccRecord.Shipping_Postal_Code__c = 'test';
        lobAccRecord.Shipping_State__c = 'test';
        lobAccRecord.Account__c = acc.Id;
        lobAccRecord.Sales_Rep__c = testUser.id;
        lobAccRecord.Primary_Customer_Service_Rep__c = pioneerUser.id;
        insert lobAccRecord;
        lobAccMap.put(lobAccRecord.Sales_Rep__c, lobAccRecord);
        oldLobAccRecMap.put(lobAccRecord.id,lobAccRecord);
        Line_Of_Business_Account__c lobAccRecNew = new Line_Of_Business_Account__c();
        lobAccRecNew.Id = lobAccRecord.Id;
        lobAccRecord.Sales_Rep__c = testUser.id;
        lobAccRecNew.Primary_Customer_Service_Rep__c = testUser.id;
        lobAccRecNew.Account__c = acc.Id;
        update lobAccRecNew;
        newLobAccRecMap.put(lobAccRecNew.id,lobAccRecNew);
        LineOfBusinessAccountTriggerHelper.updateAccTeamForLOBAccount(oldLobAccRecMap, newLobAccRecMap);
    }
   
}